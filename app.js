!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const o=Object.freeze({EXACT_MATCH:".",FOCUS_SEARCH:"f",CLEAR_SEARCH:"<",BASE_TOGGLE:"?",COMPOUND_TOGGLE:",",OTHER_TOGGLE:"_",INFO_TOGGLE:"$"});function r(e){if("string"!=typeof e)throw new Error("Value must be a string");switch(e){case"true":return!0;case"false":return!1;default:return!!e}}function s(e){return e.replaceAll(o.EXACT_MATCH,"")}function c(e){return e.replaceAll(o.BASE_TOGGLE,"")}function i(e){return e.replaceAll(o.COMPOUND_TOGGLE,"")}function l(e){return e.replaceAll(o.OTHER_TOGGLE,"")}function a(e){return e.replaceAll(o.INFO_TOGGLE,"")}const u=Object.freeze({BASE:Symbol("base"),COMPOUND:Symbol("compound"),OTHER:Symbol("other")}),h=/\([\w\d\s'\-,]+\)/gi;class d{constructor(e){this.element=e,this.contents=this._getContent(e),[this.word]=this.contents,this.type=this._getType(this.word)}_getType(e){return 4===e.length||"wa"===e?u.BASE:e.includes(".")?u.COMPOUND:u.OTHER}_getContent(e){const t=e.querySelector(".term");let n=new Set;const o=t.querySelector(".word").innerText;n.add(o);const r=t.querySelector(".meaning");for(const e of[".noun",".verb",".modifier"])r.querySelector(e).innerText.replaceAll(h,"").split(/[^\w-]/).map((e=>e.trim())).forEach((e=>n.add(e.toLowerCase())));return n.has("")&&n.delete(""),n}show(){this.element.style.display="block"}hide(){this.element.style.display="none"}is(...e){return e.includes(this.type)}}const m=new class{constructor(e){this._elements=e,this._initFromCache(),this.onChange((()=>this._updateCache()))}isExactMatchActive(){return this._elements.exactMatch.checked}isBaseActive(){return this._elements.base.checked}isCompoundActive(){return this._elements.compound.checked}isOtherActive(){return this._elements.other.checked}isJustTonoActive(){return this._elements.justTono.checked}get elements(){return Object.entries(this._elements).map((e=>e[1]))}_initFromCache(){if(!this._isLocalStorageAvailable())return;const e=window.localStorage.getItem("exactMatch");null!==e&&(this._elements.exactMatch.checked=r(e));const t=window.localStorage.getItem("base");null!==t&&(this._elements.base.checked=r(t));const n=window.localStorage.getItem("compound");null!==n&&(this._elements.compound.checked=r(n));const o=window.localStorage.getItem("other");null!==o&&(this._elements.other.checked=r(o));const s=window.localStorage.getItem("justTono");null!==s&&(this._elements.justTono.checked=r(s))}_updateCache(){if(this._isLocalStorageAvailable())for(const[e,t]of Object.entries(this._elements))window.localStorage.setItem(e,t.checked)}_isLocalStorageAvailable(){let e;try{e=window.localStorage;const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length}}getActiveTypes(){let e=[];return this.isBaseActive()&&e.push(u.BASE),this.isCompoundActive()&&e.push(u.COMPOUND),this.isOtherActive()&&e.push(u.OTHER),e}onChange(e){Object.values(this._elements).forEach((t=>t.addEventListener("change",(t=>e(t)))))}}({exactMatch:document.getElementById("exact-match-element"),base:document.getElementById("base-element"),compound:document.getElementById("compound-element"),other:document.getElementById("other-element"),justTono:document.getElementById("just-tono-element")}),f=Array.from(document.querySelectorAll("div[class=word-container]")).map((e=>new d(e))),_=new class{constructor(e){this._words=e}search(e,t){e?this._words.forEach((n=>{if(!n.is(...t.getActiveTypes()))return n.hide();if(t.isExactMatchActive()){let o=!1;return o=t.isJustTonoActive()?n.word===e:n.contents.has(e),this._showOrHide(n,o)}if(t.isJustTonoActive())return this._showOrHide(n,n.word.includes(e));for(const t of n.contents)if(t.includes(e))return n.show();n.hide()})):this.showAll(t)}showAll(e){this._words.forEach((t=>this._showOrHide(t,t.is(...e.getActiveTypes()))))}_showOrHide(e,t){t?e.show():e.hide()}}(f),p=document.getElementById("search");p.value="";const w=e=>{var t,n,o;void 0!==e&&"show-info-element"===e.srcElement.id||(t=_,n=p,o=m,function(e,t=300){let n;return(...o)=>{clearTimeout(n),n=setTimeout((()=>{e.apply(this,o)}),t)}}((()=>t.search(function(e){let t=s(e);return t=c(t),t=i(t),t=l(t),t=a(t),t}(n.value.trim().toLowerCase()),o)))())};m.onChange(w);const O=["ArrowUp","ArrowRight","ArrowDown","ArrowLeft","Shift","Control","Alt","CapsLock","Meta"];p.addEventListener("keyup",(e=>{O.includes(e.key)||w()}))}]);